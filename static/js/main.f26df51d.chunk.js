(this.webpackJsonptripago=this.webpackJsonptripago||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(13),i=a.n(s),o=(a(69),a(70),a.p,a(71),a(7)),l=a(8),j=a(10),d=a(9),b=a(12),h=a(11),u=a(108),p=a(107),O=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(u.a,{variant:"dark",bg:"primary",children:[Object(n.jsx)(u.a.Brand,{as:b.b,to:"/home",children:"Tripago"}),Object(n.jsxs)(p.a,{className:"mr-auto",children:[Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/home",children:"Home"})}),Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/albums",children:"Albums"})})]}),Object(n.jsxs)(p.a,{className:"justify-content-end",children:[Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/register",children:"Register"})}),Object(n.jsx)(p.a.Item,{children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/login",children:"Log in"})})]})]})}}]),a}(r.Component),m=a(103),x=a(104),f=a(62),v=a(102),g=(a(45),a.p+"static/media/testpic.f038f9e1.png"),y=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"p-3",children:[Object(n.jsx)(v.a,{src:g,fluid:!0,rounded:!0,className:"my-3"}),Object(n.jsxs)("div",{className:"profile__text px-4",children:[Object(n.jsx)("h3",{className:"py-1",children:"Ethia Polis"}),Object(n.jsx)("h6",{children:"#SuperStar"}),Object(n.jsx)("h6",{children:"#Star4Real"}),Object(n.jsx)("h6",{children:"#StarFish"})]})]})}}]),a}(r.Component),C=a(42),w={lat:25.0174,lng:121.5405},k=[{name:"NTUSportsCenter",location:{lat:25.0222,lng:121.5354}},{name:"NTUCommon",location:{lat:25.016,lng:121.5375}}],N=function(e){return'\n  <div class="info-window">\n    <div class="place-name">\n      '.concat(e.name,"\n    </div>\n  </div>")},I=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).renderGoogleApi=function(e,t,a){var n=[],r=[];a.forEach((function(a){n.push(new t.Marker({position:{lat:a.location.lat,lng:a.location.lng},map:e})),r.push(new t.InfoWindow({content:N(a)}))})),n.forEach((function(t,a){t.addListener("click",(function(){r[a].open(e,t)}))}))},n.state={places:k},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.places;return Object(n.jsxs)("div",{className:"py-3 travel-map__container",children:[Object(n.jsx)("h2",{children:"TravelMap"}),Object(n.jsx)("div",{className:"travel-map",children:Object(n.jsx)(C.a,{bootstrapURLKeys:{key:""},defaultCenter:w,defaultZoom:15,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(a){var n=a.map,r=a.maps;return e.renderGoogleApi(n,r,t)}})})]})}}]),a}(r.Component),L=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(m.a,{fluid:!0,className:"h-100",children:Object(n.jsxs)(x.a,{className:"h-100",children:[Object(n.jsx)(f.a,{xs:4,lg:3,children:Object(n.jsx)(y,{})}),Object(n.jsx)(f.a,{xs:8,lg:9,children:Object(n.jsx)(I,{})})]})})}}]),a}(r.Component),S=a(110),M=a.p+"static/media/testpic2.bc0cfe5e.png",P=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={albumList:["mytrip1","mytrip2","mytrip3","mytrip4","mytrip5"]},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"p-4",children:Object(n.jsx)(m.a,{children:Object(n.jsxs)(x.a,{xs:1,sm:2,md:3,lg:4,children:[Object(n.jsx)(f.a,{className:"p-3",children:Object(n.jsxs)(S.a,{children:[Object(n.jsx)(S.a.Img,{variant:"top",src:g}),Object(n.jsx)(S.a.Body,{children:Object(n.jsx)(S.a.Title,{children:"Click to Add"})})]})}),this.state.albumList.map((function(e){return Object(n.jsx)(f.a,{className:"p-3",children:Object(n.jsxs)(S.a,{as:b.b,to:"albums/".concat(e),children:[Object(n.jsx)(S.a.Img,{variant:"top",src:M}),Object(n.jsx)(S.a.Body,{children:Object(n.jsx)(S.a.Title,{children:"".concat(e)})})]})},e)}))]})})})}}]),a}(r.Component),U=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(m.a,{fluid:!0,className:"h-100",children:Object(n.jsxs)(x.a,{className:"h-100",children:[Object(n.jsx)(f.a,{xs:4,lg:3,children:Object(n.jsx)(y,{})}),Object(n.jsx)(f.a,{xs:8,lg:9,children:Object(n.jsx)(P,{})})]})})}}]),a}(r.Component),T=(a(38),function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.id;return Object(n.jsx)("div",{className:"position-sticky pt-3",children:Object(n.jsxs)(p.a,{className:"align-items-start",children:[Object(n.jsx)(p.a.Item,{as:"h5",className:"mr-0",children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/albums/".concat(e,"/"),children:e.toUpperCase()})}),Object(n.jsx)(p.a.Item,{className:"mr-0",children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/albums/".concat(e,"/upload"),children:"Image Uploader"})}),Object(n.jsx)(p.a.Item,{className:"mr-0",children:Object(n.jsx)(p.a.Link,{as:b.b,to:"/albums/".concat(e,"/map"),children:"Travel Map"})})]})})}}]),a}(r.Component)),A=a(26),E=a.n(A),G=a(33),R=a(31),B=a.n(R),D=a(105),F=B.a.create({baseURL:"https://our-tripago.an.r.appspot.com"}),_=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onDeletePhoto=function(){var e=Object(G.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.delete("/photo",{params:{album:n.props.id,photo:t}});case 2:e.sent,n.setState((function(e){return{photos:e.photos.filter((function(e){return e.id!==t}))}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={fetching:!0,photos:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(G.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.get("/album",{params:{album:e.props.id}});case 2:a=t.sent,e.setState({fetching:!1,photos:a.data});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}},{key:"render",value:function(){var e=this;return this.state.fetching?Object(n.jsx)("h3",{children:"Fetching Photos"}):Object(n.jsx)(m.a,{children:Object(n.jsx)(x.a,{xs:1,sm:2,md:3,lg:4,children:this.state.photos.map((function(t){return Object(n.jsx)(f.a,{className:"p-3",children:Object(n.jsxs)(S.a,{children:[Object(n.jsx)(S.a.Img,{src:t.url}),Object(n.jsx)(S.a.ImgOverlay,{children:Object(n.jsx)(D.a,{variant:"danger",onClick:function(){return e.onDeletePhoto(t.id)},children:" Delete"})})]})},t.id)}))})})}}]),a}(r.Component),W=a(63),J=a.n(W),K=B.a.create({baseURL:"https://our-tripago.an.r.appspot.com",headers:{"content-type":"multipart/form-data"}}),Z=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onDrop=function(e,t){n.setState((function(t){return{photos:t.photos.concat(e)}}))},n.onUpload=Object(G.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload photos to backend"),(t=new FormData).append("album",n.props.id),n.state.photos.forEach((function(e,a){t.append("photos",e)})),e.next=6,K.post("/upload-photos",t);case 6:a=e.sent,console.log(a),n.setState((function(e){return{photos:[],key:e.key+1}}));case 9:case"end":return e.stop()}}),e)}))),n.state={photos:[],key:0},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(J.a,{withPreview:!0,buttonText:"Choose photos",label:"Max file size = 5mb",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png"],buttonClassName:"album-uploader__button"},this.state.key),Object(n.jsx)(D.a,{onClick:function(){return e.onUpload()},children:"Upload"})]})}}]),a}(r.Component),z={lat:25.0174,lng:121.5405},H=[{name:"NTUSportsCenter",location:{lat:25.0222,lng:121.5354}},{name:"NTUCommon",location:{lat:25.016,lng:121.5375}}],q=function(e){return'\n  <div class="info-window">\n    <div class="place-name">\n      '.concat(e.name,"\n    </div>\n  </div>")},Q=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).renderGoogleApi=function(e,t,a){var n=[],r=[];a.forEach((function(a){n.push(new t.Marker({position:{lat:a.location.lat,lng:a.location.lng},map:e})),r.push(new t.InfoWindow({content:q(a)}))})),n.forEach((function(t,a){t.addListener("click",(function(){r[a].open(e,t)}))}))},n.state={places:H},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.places;return Object(n.jsx)("div",{className:"album-map",children:Object(n.jsx)(C.a,{bootstrapURLKeys:{key:""},defaultCenter:z,defaultZoom:15,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(a){var n=a.map,r=a.maps;return e.renderGoogleApi(n,r,t)}})})}}]),a}(r.Component),V=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.id;return Object(n.jsxs)("div",{className:"h-100",children:[Object(n.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(n.jsxs)(h.d,{children:[Object(n.jsxs)(h.b,{exact:!0,path:"/albums/".concat(e,"/"),children:["Album - ",e]}),Object(n.jsx)(h.b,{path:"/albums/".concat(e,"/upload"),children:"Image Uploader"}),Object(n.jsx)(h.b,{path:"/albums/".concat(e,"/map"),children:"Travel Map"})]})}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{exact:!0,path:"/albums/".concat(e),children:Object(n.jsx)(_,{id:e})}),Object(n.jsx)(h.b,{path:"/albums/".concat(e,"/upload"),children:Object(n.jsx)(Z,{id:e})}),Object(n.jsx)(h.b,{path:"/albums/".concat(e,"/map"),children:Object(n.jsx)(Q,{})})]})]})}}]),a}(r.Component);var X=function(){var e=Object(h.g)().id;return Object(n.jsx)(m.a,{fluid:!0,className:"h-100",children:Object(n.jsxs)(x.a,{className:"h-100",children:[Object(n.jsx)(f.a,{xs:4,sm:3,lg:2,children:Object(n.jsx)(T,{id:e})}),Object(n.jsx)(f.a,{xs:8,sm:9,lg:10,children:Object(n.jsx)(V,{id:e})})]})})},Y=a(34),$=a(24),ee=a(109),te=a(106),ae=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.errorMessage?Object(n.jsx)(ee.a,{variant:"warning",children:this.props.errorMessage}):Object(n.jsx)("div",{})}}]),a}(r.Component),ne=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,n=t.value;r.setState(Object(Y.a)({},a,n))},r.handleSubmit=function(e){e.preventDefault(),r.setState({redirect:!0})},r.renderRedirect=function(){if(r.state.redirect)return Object(n.jsx)(h.a,{to:"/home"})},r.state={email:"",password:"",errorMessage:"",redirect:!1},r.handleChange=r.handleChange.bind(Object($.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{style:{width:"40%",margin:"auto"},children:[Object(n.jsxs)(te.a,{children:[Object(n.jsxs)(te.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsxs)(te.a.Label,{children:[Object(n.jsx)("br",{}),"Email Address"]}),Object(n.jsx)(te.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(n.jsxs)(te.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(te.a.Label,{children:"Password"}),Object(n.jsx)(te.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange})]}),this.renderRedirect(),Object(n.jsx)(D.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Login"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{style:{width:"60%",margin:"auto"},children:Object(n.jsx)(ae,{errorMessage:this.state.errorMessage})})]})}}]),a}(r.Component),re=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){console.log(this.props.data);var e=this.props.data,t=e.password,a=e.passwordConfirm,r=e.passwordChanged,c=e.passwordConfirmChanged;return r&&c&&t!==a?Object(n.jsx)(ee.a,{variant:"warning",children:"unmatched passwords!"}):Object(n.jsx)("div",{})}}]),a}(r.Component),ce=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.errorMessage?Object(n.jsx)(ee.a,{variant:"warning",children:this.props.errorMessage}):Object(n.jsx)("div",{})}}]),a}(r.Component),se=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t,a=e.target,n=a.name,c=a.value;r.setState((t={},Object(Y.a)(t,n,c),Object(Y.a)(t,n+"Changed",!0),t))},r.handleSubmit=function(e){e.preventDefault(),r.setState({redirect:!0})},r.renderRedirect=function(){if(r.state.redirect)return Object(n.jsx)(h.a,{to:"/home"})},r.state={email:"",password:"",passwordConfirm:"",passwordChanged:!1,passwordConfirmChanged:!1,errorMessage:"",redirect:!1},r.handleChange=r.handleChange.bind(Object($.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object($.a)(r)),r}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{style:{width:"40%",margin:"auto"},children:[Object(n.jsxs)(te.a,{children:[Object(n.jsxs)(te.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsxs)(te.a.Label,{children:[Object(n.jsx)("br",{}),"Email Address"]}),Object(n.jsx)(te.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(n.jsxs)(te.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(te.a.Label,{children:"Password"}),Object(n.jsx)(te.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsxs)(te.a.Group,{controlId:"formBasicPasswordConfirm",children:[Object(n.jsx)(te.a.Label,{children:"Confirm Password"}),Object(n.jsx)(te.a.Control,{type:"password",placeholder:"Password",name:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleChange})]}),Object(n.jsx)("div",{style:{width:"80%",margin:"auto"},children:Object(n.jsx)(re,{data:this.state})}),this.renderRedirect(),Object(n.jsx)(D.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Register"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{style:{width:"60%",margin:"auto"},children:Object(n.jsx)(ce,{errorMessage:this.state.errorMessage})})]})}}]),a}(r.Component),ie=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(b.a,{basename:"/tripago",children:[Object(n.jsx)(O,{}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{exact:!0,path:"/",children:Object(n.jsx)(h.a,{to:"/home"})}),Object(n.jsx)(h.b,{path:"/home",children:Object(n.jsx)(L,{})}),Object(n.jsx)(h.b,{exact:!0,path:"/albums",children:Object(n.jsx)(U,{})}),Object(n.jsx)(h.b,{path:"/albums/:id",children:Object(n.jsx)(X,{})}),Object(n.jsx)(h.b,{path:"/login",children:Object(n.jsx)(ne,{})}),Object(n.jsx)(h.b,{path:"/register",children:Object(n.jsx)(se,{})})]})]})}}]),a}(r.Component);var oe=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(ie,{})})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(oe,{})}),document.getElementById("root")),le()},38:function(e,t,a){},45:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.f26df51d.chunk.js.map